{"version":3,"sources":["webpack://SlVueTree/webpack/universalModuleDefinition","webpack://SlVueTree/webpack/bootstrap","webpack://SlVueTree/./src/sl-vue-tree.js","webpack://SlVueTree/./src/sl-vue-tree.vue?75ef","webpack://SlVueTree/./src/sl-vue-tree.vue","webpack://SlVueTree/./node_modules/vue-loader/lib/runtime/component-normalizer.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","sl_vue_tree","props","type","Array","default","edgeSize","Number","showBranches","Boolean","level","parentInd","allowMultiselect","scrollAreaHeight","maxScrollSpeed","data","rootCursorPosition","scrollIntervalId","scrollSpeed","lastSelectedNode","mouseIsDown","isDragging","lastMousePos","x","y","mounted","this","isRoot","document","addEventListener","onDocumentMouseupHandler","beforeDestroy","removeEventListener","computed","cursorPosition","getParent","nodes","nodeModels","copy","getNodes","children","gaps","push","selectionSize","getSelected","length","methods","setCursorPosition","pos","parentPath","map","nodeModel","ind","nodePath","concat","getNode","path","siblings","slice","getNodeSiblings","title","isLeaf","isExpanded","isSelected","pathStr","JSON","stringify","isFirstChild","isLastChild","emitInput","newValue","getRoot","$emit","emitSelect","selectedNodes","event","emitDrop","draggingNodes","position","emitToggle","toggledNode","emitNodeClick","node","emitNodeDblclick","emitNodeContextmenu","select","addToSelection","ctrlKey","selectedNode","newNodes","shiftSelectionMode","shiftKey","shiftSelectionStarted","traverse","onMousemoveHandler","initialDraggingState","clientX","clientY","isDragStarted","$root","$el","rootRect","getBoundingClientRect","$dragInfo","$refs","dragInfo","dragInfoTop","top","scrollTop","style","marginBottom","dragInfoLeft","left","$target","elementFromPoint","$nodeItem","getAttribute","closest","offsetY","destNode","placement","parse","nodeHeight","offsetHeight","height","scrollBottomLine","bottom","scrollDownSpeed","scrollTopLine","scrollTopSpeed","startScroll","stopScroll","onMouseleaveHandler","getFirstNode","getNodeEl","querySelector","getLastNode","lastNode","onNodeMousedownHandler","button","speed","setInterval","clearInterval","onNodeMouseupHandler","targetNode","stopDrag","draggingNode","checkNodeIsParent","nodeModelsToInsert","draggingNodeModel","destSiblings","destNodeModel","unshift","insertInd","splice","onToggleHandler","updateNode","stopPropagation","$parent","patch","assign","cb","shouldStop","forEach","nodeInd","itemPath","remove","paths","pathsStr","_markToDelete","sourceNode","destPath","entity","render","_vm","_h","$createElement","_c","_self","staticClass","class","sl-vue-tree-root","on","mousemove","mouseleave","ref","_l","sl-vue-tree-selected","visibility","dragover","$event","preventDefault","_v","sl-vue-tree-cursor-hover","sl-vue-tree-cursor-inside","sl-vue-tree-node-is-leaf","sl-vue-tree-node-is-folder","attrs","mousedown","mouseup","contextmenu","dblclick","click","gapInd","_t","_e","_s","String","fromCharCode","scopedSlots","_u","key","fn","directives","rawName","expression","_withStripped","Component","scriptExports","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","options","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","normalizeComponent","__file","__webpack_exports__"],"mappings":"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","file":"sl-vue-tree.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SlVueTree\"] = factory();\n\telse\n\t\troot[\"SlVueTree\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\nexport default {\n  name: 'sl-vue-tree',\n  props: {\n    value: {\n      type: Array,\n      default: () => []\n    },\n    edgeSize: {\n      type: Number,\n      default: 3\n    },\n    showBranches: {\n      type: Boolean,\n      default: false\n    },\n    level: {\n      type: Number,\n      default: 0\n    },\n    parentInd: {\n      type: Number\n    },\n    allowMultiselect: {\n      type: Boolean,\n      default: true\n    },\n    scrollAreaHeight: {\n      type: Number,\n      default: 70\n    },\n    maxScrollSpeed: {\n      type: Number,\n      default: 20\n    }\n  },\n\n  data() {\n    return {\n      rootCursorPosition: null,\n      scrollIntervalId: 0,\n      scrollSpeed: 0,\n      lastSelectedNode: null,\n      mouseIsDown: false,\n      isDragging: false,\n      lastMousePos: {x: 0, y: 0}\n    };\n  },\n\n  mounted() {\n    if (this.isRoot) {\n      document.addEventListener('mouseup', this.onDocumentMouseupHandler);\n    }\n  },\n\n  beforeDestroy() {\n    document.removeEventListener('mouseup', this.onDocumentMouseupHandler);\n  },\n\n  computed: {\n    cursorPosition() {\n      if (this.isRoot) return this.rootCursorPosition;\n      return this.getParent().cursorPosition;\n    },\n\n    nodes() {\n      if (this.isRoot) {\n        const nodeModels = this.copy(this.value);\n        return this.getNodes(nodeModels);\n      }\n\n      return this.getParent().nodes[this.parentInd].children;\n    },\n    /**\n   * gaps is using for nodes indentation\n   * @returns {number[]}\n   */\n    gaps() {\n      const gaps = [];\n      let i = this.level - 1;\n      if (!this.showBranches) i++;\n      while (i-- > 0) gaps.push(i);\n      return gaps;\n    },\n\n    isRoot() {\n      return !this.level\n    },\n\n    selectionSize() {\n      return this.getSelected().length;\n    }\n  },\n  methods: {\n\n    setCursorPosition(pos) {\n      if (this.isRoot) {\n        this.rootCursorPosition = pos;\n        return;\n      }\n      this.getParent().setCursorPosition(pos);\n    },\n\n    getNodes(nodeModels, parentPath = []) {\n\n      return nodeModels.map((nodeModel, ind) => {\n        const nodePath = parentPath.concat(ind);\n        return this.getNode(nodePath, nodeModel, nodeModels);\n      })\n    },\n\n    getNode(\n      path,\n      nodeModel = null,\n      siblings = null\n    ) {\n      const ind = path.slice(-1)[0];\n      siblings = siblings || this.getNodeSiblings(this.value, path);\n      nodeModel = nodeModel || (siblings && siblings[ind]) || null;\n\n      if (!nodeModel) return null;\n\n      const node = {\n\n        // define the all ISlTreeNodeModel props\n        title: nodeModel.title,\n        isLeaf: !!nodeModel.isLeaf,\n        children: nodeModel.children ? this.getNodes(nodeModel.children, path) : [],\n        isExpanded: nodeModel.isExpanded == void 0 ? true : !!nodeModel.isExpanded,\n        isSelected: !!nodeModel.isSelected,\n        data: nodeModel.data !== void 0 ? nodeModel.data : {},\n\n        // define the all ISlTreeNode computed props\n        path: path,\n        pathStr: JSON.stringify(path),\n        level: path.length,\n        ind,\n        isFirstChild: ind == 0,\n        isLastChild: ind === siblings.length - 1\n      };\n      return node;\n    },\n\n    emitInput(newValue) {\n      this.getRoot().$emit('input', newValue);\n    },\n\n    emitSelect(selectedNodes, event) {\n      this.getRoot().$emit('select', selectedNodes, event);\n    },\n\n    emitDrop(draggingNodes, position, event) {\n      this.getRoot().$emit('drop', draggingNodes, position, event);\n    },\n\n    emitToggle(toggledNode, event) {\n      this.getRoot().$emit('toggle', toggledNode, event);\n    },\n\n    emitNodeClick(node, event) {\n      this.getRoot().$emit('nodeclick', node, event);\n    },\n\n    emitNodeDblclick(node, event) {\n      this.getRoot().$emit('nodedblclick', node, event);\n    },\n\n    emitNodeContextmenu(node, event) {\n      this.getRoot().$emit('nodecontextmenu', node, event);\n    },\n\n    select(path, addToSelection = false, event = null) {\n      addToSelection = ((event && event.ctrlKey) || addToSelection) && this.allowMultiselect;\n      const selectedNode = this.getNode(path);\n      if (!selectedNode) return null;\n      const newNodes = this.copy(this.value);\n      const shiftSelectionMode = this.allowMultiselect && event && event.shiftKey && this.lastSelectedNode;\n      const selectedNodes = [];\n      let shiftSelectionStarted = false;\n\n      this.traverse((node, nodeModel) => {\n\n        if (shiftSelectionMode) {\n          if (node.pathStr === selectedNode.pathStr || node.pathStr === this.lastSelectedNode.pathStr) {\n            nodeModel.isSelected = true;\n            shiftSelectionStarted = !shiftSelectionStarted;\n          }\n          if (shiftSelectionStarted) nodeModel.isSelected = true;\n        } else if (node.pathStr === selectedNode.pathStr) {\n          nodeModel.isSelected = true;\n        } else if (!addToSelection) {\n          if (nodeModel.isSelected) nodeModel.isSelected = false;\n        }\n\n        if (nodeModel.isSelected) selectedNodes.push(node);\n\n      }, newNodes);\n\n\n      this.lastSelectedNode = selectedNode;\n      this.emitInput(newNodes);\n      this.emitSelect(selectedNodes, event);\n      return selectedNode;\n    },\n\n    onMousemoveHandler(event) {\n      if (!this.isRoot) {\n        this.getRoot().onMousemoveHandler(event);\n        return;\n      }\n\n      const initialDraggingState = this.isDragging;\n      this.isDragging =\n        this.isDragging || (\n        this.mouseIsDown &&\n        (this.lastMousePos.x !== event.clientX || this.lastMousePos.y !== event.clientY)\n      );\n\n      const isDragStarted = initialDraggingState === false && this.isDragging === true;\n\n      this.lastMousePos = {\n        x: event.clientX,\n        y: event.clientY\n      };\n\n      if (!this.isDragging) return;\n\n      const $root = this.getRoot().$el;\n      const rootRect = $root.getBoundingClientRect();\n      const $dragInfo = this.$refs.dragInfo;\n      const dragInfoTop = (event.clientY - rootRect.top + $root.scrollTop - ($dragInfo.style.marginBottom | 0) );\n      const dragInfoLeft = (event.clientX - rootRect.left);\n\n      $dragInfo.style.top = dragInfoTop + 'px';\n      $dragInfo.style.left = dragInfoLeft + 'px';\n\n\n\n      const $target = document.elementFromPoint(event.clientX, event.clientY);\n      const $nodeItem = $target.getAttribute('path') ? $target : $target.closest('[path]');\n      const offsetY = event.offsetY;\n      let destNode;\n      let placement;\n\n      if ($nodeItem) {\n\n        if (!$nodeItem) return;\n\n        destNode = this.getNode(JSON.parse($nodeItem.getAttribute('path')));\n\n        if (isDragStarted && !destNode.isSelected) {\n          this.select(destNode.path, false, event);\n        }\n\n\n        const nodeHeight = $nodeItem.offsetHeight;\n        const edgeSize = this.edgeSize;\n\n\n        if (destNode.isLeaf) {\n          placement = offsetY >= nodeHeight / 2 ? 'after' : 'before';\n        } else {\n          if (offsetY <= edgeSize) {\n            placement = 'before';\n          } else if (offsetY >= nodeHeight - edgeSize) {\n            placement = 'after';\n          } else {\n            placement = 'inside';\n          }\n        }\n      } else {\n        if (offsetY < rootRect.height / 2) return;\n        placement = 'after';\n        destNode = this.nodes.slice(-1)[0];\n      }\n      this.setCursorPosition({ node: destNode, placement });\n\n      const scrollBottomLine = rootRect.bottom - this.scrollAreaHeight;\n      const scrollDownSpeed = (event.clientY - scrollBottomLine) / (rootRect.bottom - scrollBottomLine);\n      const scrollTopLine = rootRect.top + this.scrollAreaHeight;\n      const scrollTopSpeed = (scrollTopLine - event.clientY) / (scrollTopLine - rootRect.top);\n\n      if (scrollDownSpeed > 0) {\n        this.startScroll(scrollDownSpeed);\n      } else if (scrollTopSpeed > 0) {\n        this.startScroll(-scrollTopSpeed)\n      } else {\n        this.stopScroll();\n      }\n    },\n\n    onMouseleaveHandler(event) {\n      if (!this.isRoot || !this.isDragging) return;\n      const $root = this.getRoot().$el;\n      const rootRect = $root.getBoundingClientRect();\n      if (event.clientY >= rootRect.bottom) {\n        this.setCursorPosition({ node: this.nodes.slice(-1)[0], placement: 'after' });\n      } else if (event.clientY < rootRect.top) {\n        this.setCursorPosition({ node: this.getFirstNode(), placement: 'before'});\n      }\n    },\n\n    getNodeEl(path) {\n      this.getRoot().$el.querySelector(`[path=\"${JSON.stringify(path)}\"]`);\n    },\n\n    getLastNode() {\n      let lastNode  = null;\n      this.traverse((node) => {\n        lastNode = node;\n      });\n      return lastNode;\n    },\n\n    getFirstNode() {\n      return this.getNode([0]);\n    },\n\n    onNodeMousedownHandler(event, node) {\n      // handle only left mouse button\n      if (event.button !== 0) return;\n\n      if (!this.isRoot) {\n        this.getRoot().onNodeMousedownHandler(event, node);\n        return;\n      }\n      this.mouseIsDown = true;\n    },\n\n\n    startScroll(speed) {\n      const $root = this.getRoot().$el;\n      if (this.scrollSpeed === speed) {\n        return;\n      } else if (this.scrollIntervalId) {\n        this.stopScroll();\n      }\n\n      this.scrollSpeed = speed;\n      this.scrollIntervalId = setInterval(() => {\n        $root.scrollTop += this.maxScrollSpeed * speed;\n      }, 20);\n    },\n\n    stopScroll() {\n      clearInterval(this.scrollIntervalId);\n      this.scrollIntervalId = 0;\n      this.scrollSpeed = 0;\n    },\n\n    onDocumentMouseupHandler(event) {\n      if (this.isDragging) this.onNodeMouseupHandler(event);\n    },\n\n    onNodeMouseupHandler(event, targetNode = null) {\n\n      // handle only left mouse button\n      if (event.button !== 0) return;\n\n      if (!this.isRoot) {\n        this.getRoot().onNodeMouseupHandler(event, targetNode);\n        return;\n      }\n\n      this.mouseIsDown = false;\n\n      if (!this.isDragging && targetNode) {\n        this.select(targetNode.path, false, event);\n        return;\n      }\n\n      if (!this.cursorPosition) {\n        this.stopDrag();\n        return;\n      };\n\n\n      const draggingNodes = this.getSelected();\n\n      // check that nodes is possible to insert\n      for (let draggingNode of draggingNodes) {\n        if (draggingNode.pathStr == this.cursorPosition.node.pathStr) {\n          this.stopDrag();\n          return;\n        }\n\n        if (this.checkNodeIsParent(draggingNode, this.cursorPosition.node)) {\n          this.stopDrag();\n          return;\n        };\n      }\n\n      const newNodes = this.copy(this.value);\n      const nodeModelsToInsert = [];\n\n      // find and mark dragging model to delete\n      for (let draggingNode of draggingNodes) {\n        const sourceSiblings = this.getNodeSiblings(newNodes, draggingNode.path);\n        const draggingNodeModel = sourceSiblings[draggingNode.ind];\n        nodeModelsToInsert.push(this.copy(draggingNodeModel));\n        draggingNodeModel['_markToDelete'] = true;\n      }\n\n\n      // insert dragging nodes to the new place\n      const destNode = this.cursorPosition.node;\n      const destSiblings = this.getNodeSiblings(newNodes, destNode.path);\n      const destNodeModel = destSiblings[destNode.ind];\n\n      if (this.cursorPosition.placement === 'inside') {\n        destNodeModel.children = destNodeModel.children || [];\n        destNodeModel.children.unshift(...nodeModelsToInsert);\n      } else {\n        const insertInd = this.cursorPosition.placement === 'before' ?\n          destNode.ind :\n          destNode.ind + 1;\n\n        destSiblings.splice(insertInd, 0, ...nodeModelsToInsert);\n      }\n\n\n\n      // delete dragging node from the old place\n      this.traverse((node, nodeModel, siblings) => {\n        let i = siblings.length;\n        while (i--) {\n          if (siblings[i]['_markToDelete']) siblings.splice(i, 1);\n        }\n      }, newNodes);\n\n\n      this.lastSelectedNode = null;\n      this.emitInput(newNodes);\n      this.emitDrop(draggingNodes, this.cursorPosition, event);\n      this.stopDrag();\n    },\n\n\n    onToggleHandler(event, node) {\n      this.updateNode(node.path, { isExpanded: !node.isExpanded });\n      this.emitToggle(node, event);\n      event.stopPropagation();\n    },\n\n    stopDrag() {\n      this.isDragging = false;\n      this.mouseIsDown = false;\n      this.setCursorPosition(null);\n      this.stopScroll();\n    },\n\n\n    getParent() {\n      return this.$parent;\n    },\n\n    getRoot() {\n      if (this.isRoot) return this;\n      return this.getParent().getRoot();\n    },\n\n    getNodeSiblings(nodes, path) {\n      if (path.length === 1) return nodes;\n      return this.getNodeSiblings(nodes[path[0]].children, path.slice(1));\n    },\n\n\n    updateNode(path, patch) {\n      if (!this.isRoot) {\n        this.getParent().updateNode(path, patch);\n        return;\n      }\n\n      const pathStr = JSON.stringify(path);\n      const newNodes = this.copy(this.value);\n      this.traverse((node, nodeModel) => {\n        if (node.pathStr !== pathStr) return;\n        Object.assign(nodeModel, patch);\n      }, newNodes);\n\n      this.emitInput(newNodes);\n    },\n\n    getSelected() {\n      const selectedNodes = [];\n      this.traverse((node) => {\n        if (node.isSelected) selectedNodes.push(node);\n      });\n      return selectedNodes;\n    },\n\n\n    traverse(\n      cb,\n      nodeModels = null,\n      parentPath = []\n    ) {\n      if (!nodeModels) nodeModels = this.value;\n\n      let shouldStop = false;\n\n      const nodes = [];\n\n      nodeModels.forEach((nodeModel, nodeInd) => {\n        const itemPath = parentPath.concat(nodeInd);\n        const node = this.getNode(itemPath, nodeModel, nodeModels);\n        shouldStop = cb(node, nodeModel, nodeModels) === false;\n        nodes.push(node);\n\n        if (shouldStop) return false;\n\n        if (nodeModel.children) {\n          shouldStop = this.traverse(cb, nodeModel.children, itemPath) === false;\n        }\n      });\n\n      return !shouldStop ? nodes : false;\n    },\n\n    remove(paths) {\n      const pathsStr = paths.map(path => JSON.stringify(path));\n      const newNodes = this.copy(this.value);\n      this.traverse( (node, nodeModel, siblings) => {\n        for (const pathStr of pathsStr) {\n          if (node.pathStr === pathStr) nodeModel._markToDelete = true;\n        }\n      }, newNodes);\n\n      this.traverse((node, nodeModel, siblings) => {\n        let i = siblings.length;\n        while (i--) {\n          if (siblings[i]._markToDelete) siblings.splice(i, 1);\n        }\n      }, newNodes);\n\n      this.emitInput(newNodes);\n    },\n\n    checkNodeIsParent(sourceNode, destNode) {\n      const destPath = destNode.path;\n      return JSON.stringify(destPath.slice(0, sourceNode.path.length)) == sourceNode.pathStr;\n    },\n\n    copy(entity) {\n      return JSON.parse(JSON.stringify(entity));\n    }\n\n  }\n};\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"sl-vue-tree\",\n      class: { \"sl-vue-tree-root\": _vm.isRoot },\n      on: {\n        mousemove: _vm.onMousemoveHandler,\n        mouseleave: _vm.onMouseleaveHandler\n      }\n    },\n    [\n      _c(\n        \"div\",\n        { ref: \"nodes\", staticClass: \"sl-vue-tree-nodes-list\" },\n        [\n          _vm._l(_vm.nodes, function(node, nodeInd) {\n            return _c(\n              \"div\",\n              {\n                staticClass: \"sl-vue-tree-node\",\n                class: { \"sl-vue-tree-selected\": node.isSelected }\n              },\n              [\n                _c(\"div\", {\n                  staticClass: \"sl-vue-tree-cursor sl-vue-tree-cursor_before\",\n                  style: {\n                    visibility:\n                      _vm.cursorPosition &&\n                      _vm.cursorPosition.node.pathStr === node.pathStr &&\n                      _vm.cursorPosition.placement === \"before\"\n                        ? \"visible\"\n                        : \"hidden\"\n                  },\n                  on: {\n                    dragover: function($event) {\n                      $event.preventDefault()\n                    }\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  {\n                    staticClass: \"sl-vue-tree-node-item\",\n                    class: {\n                      \"sl-vue-tree-cursor-hover\":\n                        _vm.cursorPosition &&\n                        _vm.cursorPosition.node.pathStr === node.pathStr,\n\n                      \"sl-vue-tree-cursor-inside\":\n                        _vm.cursorPosition &&\n                        _vm.cursorPosition.placement === \"inside\" &&\n                        _vm.cursorPosition.node.pathStr === node.pathStr,\n                      \"sl-vue-tree-node-is-leaf\": node.isLeaf,\n                      \"sl-vue-tree-node-is-folder\": !node.isLeaf\n                    },\n                    attrs: { path: node.pathStr },\n                    on: {\n                      mousedown: function($event) {\n                        _vm.onNodeMousedownHandler($event, node)\n                      },\n                      mouseup: function($event) {\n                        _vm.onNodeMouseupHandler($event, node)\n                      },\n                      contextmenu: function($event) {\n                        _vm.emitNodeContextmenu(node, $event)\n                      },\n                      dblclick: function($event) {\n                        _vm.emitNodeDblclick(node, $event)\n                      },\n                      click: function($event) {\n                        _vm.emitNodeClick(node, $event)\n                      }\n                    }\n                  },\n                  [\n                    _vm._l(_vm.gaps, function(gapInd) {\n                      return _c(\"div\", { staticClass: \"sl-vue-tree-gap\" })\n                    }),\n                    _vm._v(\" \"),\n                    _vm.level && _vm.showBranches\n                      ? _c(\n                          \"div\",\n                          { staticClass: \"sl-vue-tree-branch\" },\n                          [\n                            _vm._t(\n                              \"branch\",\n                              [\n                                !node.isLastChild\n                                  ? _c(\"span\", [\n                                      _vm._v(\n                                        \"\\n            \" +\n                                          _vm._s(String.fromCharCode(0x251c)) +\n                                          _vm._s(String.fromCharCode(0x2500)) +\n                                          \" \\n          \"\n                                      )\n                                    ])\n                                  : _vm._e(),\n                                _vm._v(\" \"),\n                                node.isLastChild\n                                  ? _c(\"span\", [\n                                      _vm._v(\n                                        \"\\n            \" +\n                                          _vm._s(String.fromCharCode(0x2514)) +\n                                          _vm._s(String.fromCharCode(0x2500)) +\n                                          \" \\n          \"\n                                      )\n                                    ])\n                                  : _vm._e()\n                              ],\n                              { node: node }\n                            )\n                          ],\n                          2\n                        )\n                      : _vm._e(),\n                    _vm._v(\" \"),\n                    _c(\n                      \"div\",\n                      { staticClass: \"sl-vue-tree-title\" },\n                      [\n                        !node.isLeaf\n                          ? _c(\n                              \"span\",\n                              {\n                                staticClass: \"sl-vue-tree-toggle\",\n                                on: {\n                                  click: function($event) {\n                                    _vm.onToggleHandler($event, node)\n                                  }\n                                }\n                              },\n                              [\n                                _vm._t(\n                                  \"toggle\",\n                                  [\n                                    _c(\"span\", [\n                                      _vm._v(\n                                        \"\\n             \" +\n                                          _vm._s(\n                                            !node.isLeaf\n                                              ? node.isExpanded\n                                                ? \"-\"\n                                                : \"+\"\n                                              : \"\"\n                                          ) +\n                                          \"\\n            \"\n                                      )\n                                    ])\n                                  ],\n                                  { node: node }\n                                )\n                              ],\n                              2\n                            )\n                          : _vm._e(),\n                        _vm._v(\" \"),\n                        _vm._t(\"title\", [_vm._v(_vm._s(node.title))], {\n                          node: node\n                        })\n                      ],\n                      2\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"div\",\n                      { staticClass: \"sl-vue-tree-sidebar\" },\n                      [_vm._t(\"sidebar\", null, { node: node })],\n                      2\n                    )\n                  ],\n                  2\n                ),\n                _vm._v(\" \"),\n                node.children && node.children.length && node.isExpanded\n                  ? _c(\"sl-vue-tree\", {\n                      attrs: {\n                        value: node.children,\n                        level: node.level,\n                        parentInd: nodeInd,\n                        allowMultiselect: _vm.allowMultiselect,\n                        edgeSize: _vm.edgeSize,\n                        showBranches: _vm.showBranches\n                      },\n                      on: {\n                        dragover: function($event) {\n                          $event.preventDefault()\n                        }\n                      },\n                      scopedSlots: _vm._u([\n                        {\n                          key: \"title\",\n                          fn: function(ref) {\n                            var node = ref.node\n                            return [\n                              _vm._t(\"title\", [_vm._v(_vm._s(node.title))], {\n                                node: node\n                              })\n                            ]\n                          }\n                        },\n                        {\n                          key: \"toggle\",\n                          fn: function(ref) {\n                            var node = ref.node\n                            return [\n                              _vm._t(\n                                \"toggle\",\n                                [\n                                  _c(\"span\", [\n                                    _vm._v(\n                                      \"\\n             \" +\n                                        _vm._s(\n                                          !node.isLeaf\n                                            ? node.isExpanded\n                                              ? \"-\"\n                                              : \"+\"\n                                            : \"\"\n                                        ) +\n                                        \"\\n          \"\n                                    )\n                                  ])\n                                ],\n                                { node: node }\n                              )\n                            ]\n                          }\n                        },\n                        {\n                          key: \"sidebar\",\n                          fn: function(ref) {\n                            var node = ref.node\n                            return [_vm._t(\"sidebar\", null, { node: node })]\n                          }\n                        }\n                      ])\n                    })\n                  : _vm._e(),\n                _vm._v(\" \"),\n                _c(\"div\", {\n                  staticClass: \"sl-vue-tree-cursor sl-vue-tree-cursor_after\",\n                  style: {\n                    visibility:\n                      _vm.cursorPosition &&\n                      _vm.cursorPosition.node.pathStr === node.pathStr &&\n                      _vm.cursorPosition.placement === \"after\"\n                        ? \"visible\"\n                        : \"hidden\"\n                  },\n                  on: {\n                    dragover: function($event) {\n                      $event.preventDefault()\n                    }\n                  }\n                })\n              ],\n              1\n            )\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.isDragging,\n                  expression: \"isDragging\"\n                }\n              ],\n              ref: \"dragInfo\",\n              staticClass: \"sl-vue-tree-drag-info\"\n            },\n            [\n              _vm._t(\"draginfo\", [\n                _vm._v(\n                  \"\\n        Items: \" + _vm._s(_vm.selectionSize) + \"\\n      \"\n                )\n              ])\n            ],\n            2\n          )\n        ],\n        2\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nexport { render, staticRenderFns }\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-0b7c263a\", { render: render, staticRenderFns: staticRenderFns })\n  }\n}","var disposed = false\n/* script */\nexport * from \"!!babel-loader!./sl-vue-tree.js\"\nimport __vue_script__ from \"!!babel-loader!./sl-vue-tree.js\"/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0b7c263a\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./sl-vue-tree.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\sl-vue-tree.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-0b7c263a\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-0b7c263a\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  scriptExports = scriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof scriptExports.default\n  if (type === 'object' || type === 'function') {\n    scriptExports = scriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n"],"sourceRoot":""}